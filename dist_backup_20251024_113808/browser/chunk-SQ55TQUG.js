import{a as E}from"./chunk-AC42E6I5.js";import{a as I}from"./chunk-AOZKRU3N.js";import{a as O}from"./chunk-MLPJ3DQX.js";import{c as N,d as v,e as R,f as B,g as D,h as k,j as A,n as L,o as T,s as G,w as V}from"./chunk-RHC37PKM.js";import"./chunk-7LRBAFJW.js";import{c as x,n as y}from"./chunk-FZPGF2JN.js";import{a as M}from"./chunk-BT4OFECH.js";import{Fa as t,Ga as i,Ha as p,Ka as w,L as l,Oa as C,Pb as _,Qb as F,Xa as s,Ya as f,Za as m,a as b,ca as c,eb as S,fb as r,gb as n,ha as e,ma as h,tb as P,va as u}from"./chunk-PFHSBMHA.js";import"./chunk-DGAILPFQ.js";var z=d=>({"was-validated":d}),q=class d{router=l(_);authService=l(y);errorService=l(O);toastService=l(M);headerColor=c("#6970FF");isLoading=c(!1);submitted=c(!1);subs=new b;forgotPasswordForm=new D({email:new k("",[v.required,v.email])});constructor(){this.authService.isAuthenticated()&&this.router.navigate(["/"]).then()}onSubmit(){if(this.submitted.set(!0),this.forgotPasswordForm.invalid){this.forgotPasswordForm.markAllAsTouched();return}this.submitted.set(!1),this.isLoading.set(!0);let g={email:this.forgotPasswordForm.get("email")?.value?.trim()||""};this.subs.add(this.authService.forgotPassword(g).subscribe({next:o=>{o?.success&&(this.toastService.showToast(o?.message,"success"),this.router.navigate(["/login"]).then())},error:o=>{this.errorService.showErrors(o),this.isLoading.set(!1)},complete:()=>{this.submitted.set(!1)}}))}ngOnDestroy(){this.subs.unsubscribe()}static \u0275fac=function(o){return new(o||d)};static \u0275cmp=h({type:d,selectors:[["app-forgot-password"]],decls:36,vars:27,consts:[[1,"container-fluid","forgot-password-content","p-3","p-lg-5"],[3,"title","bgColor"],[1,"row","py-5"],[1,"col-12","col-md-6","d-none","d-lg-block","text-center"],["src","./images/login-register.png","alt","Register Banner",1,"user-select-none","custom-img"],[1,"col-12","col-md-6"],[1,"subtitle"],[1,"pt-2"],["novalidate","",1,"mt-4","needs-validation",3,"ngSubmit","formGroup","ngClass"],[1,"row"],[1,"col-12"],[1,"form-group","mb-4"],["for","forgot-password-email",1,"form-label"],["type","email","placeholder","","id","forgot-password-email","formControlName","email","required","",1,"form-control","main-input"],[1,"col-lg-12"],[1,"form-group"],["type","submit",1,"btn","main-btn","rounded-pill","w-100",3,"disabled"],[1,"bottom-bar"],["routerLink","/login"]],template:function(o,a){o&1&&(p(0,"app-navbar"),t(1,"section",0),p(2,"app-breadcrumb",1),r(3,"translate"),t(4,"div",2)(5,"div",3),p(6,"img",4),i(),t(7,"div",5)(8,"div",6)(9,"h4"),s(10),r(11,"translate"),i()(),t(12,"div",7)(13,"p"),s(14),r(15,"translate"),i()(),t(16,"form",8),w("ngSubmit",function(){return a.onSubmit()}),t(17,"div",9)(18,"div",10)(19,"div",11)(20,"label",12),s(21),r(22,"translate"),i(),p(23,"input",13),i()(),t(24,"div",14)(25,"div",15)(26,"button",16),s(27),r(28,"translate"),i()(),t(29,"div",17)(30,"p"),s(31),r(32,"translate"),t(33,"a",18),s(34),r(35,"translate"),i()()()()()()()()()),o&2&&(e(2),C("title",n(3,11,"forgot_password.title")),u("bgColor",a.headerColor()),e(8),f(n(11,13,"forgot_password.title")),e(4),f(n(15,15,"forgot_password.description")),e(2),u("formGroup",a.forgotPasswordForm)("ngClass",S(25,z,a.submitted()&&a.forgotPasswordForm.touched&&a.forgotPasswordForm.invalid)),e(5),m(" ",n(22,17,"forgot_password.email")," "),e(5),u("disabled",a.isLoading()),e(),m(" ",n(28,19,"forgot_password.send_reset")," "),e(4),m(" ",n(32,21,"forgot_password.go_back_login")," "),e(3),m(" ",n(35,23,"login.title"),""))},dependencies:[I,E,x,V,A,N,R,B,G,L,T,P,F],styles:[".forgot-password-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--black-color);font-size:36px;font-weight:500}.custom-img[_ngcontent-%COMP%]{max-height:600px}.bottom-bar[_ngcontent-%COMP%]{padding:10px 0 0;text-align:center;position:relative}.bottom-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6970ff}@media (max-width: 576px){.forgot-password-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:24px}}"]})};export{q as ForgotPasswordComponent};
