import{a as M}from"./chunk-PM267IJZ.js";import{a as O}from"./chunk-K5WROS2F.js";import{a as k}from"./chunk-GOVYMHQK.js";import{b as q,c as B,d as m,e as A,f as D,g as L,h as c,j as V,n as G,o as z,s as j,t as H,w as J}from"./chunk-GN67F3B6.js";import"./chunk-Y3VLPE36.js";import{b as N,c as P,n as R}from"./chunk-Y3TZ4CJO.js";import{a as T}from"./chunk-55YTS6XV.js";import{Fa as e,Ga as t,Ha as a,Ka as _,L as d,Oa as x,Pb as E,Qb as I,Xa as n,Ya as w,Za as s,a as C,ca as u,eb as y,fb as r,gb as o,ha as i,ma as S,tb as F,va as b}from"./chunk-MIUFO4FE.js";import{a as f,b as h}from"./chunk-DGAILPFQ.js";var Q=g=>({"was-validated":g}),K=class g{router=d(E);translate=d(N);authService=d(R);toastService=d(T);errorService=d(k);registerForm=new L({first_name:new c("",[m.required]),last_name:new c("",[m.required]),email:new c("",[m.required,m.email]),password:new c("",[m.required]),acceptTerms:new c(!1,[m.requiredTrue])});headerColor=u("#6970FF");breadcrumbColor=u("#FF8A90");isLoading=u(!1);submitted=u(!1);subs=new C;constructor(){this.authService.isAuthenticated()&&this.router.navigate(["/"]).then()}onSubmit(){if(this.submitted.set(!0),this.registerForm.invalid){this.registerForm.markAllAsTouched();return}this.submitted.set(!1),this.isLoading.set(!0);let v=h(f({},this.registerForm.getRawValue()),{confirm_password:this.registerForm.get("password")?.value});this.subs.add(this.authService.register(v).subscribe({next:()=>{this.isLoading.set(!0),this.toastService.showToast(this.translate.instant("register.register_success"),"success"),this.router.navigate(["/login"]).then()},error:p=>{this.errorService.showErrors(p),this.isLoading.set(!1)},complete:()=>{this.submitted.set(!1)}}))}ngOnDestroy(){this.subs.unsubscribe()}static \u0275fac=function(p){return new(p||g)};static \u0275cmp=S({type:g,selectors:[["app-register"]],decls:58,vars:37,consts:[[1,"container-fluid","register-content","p-3","p-lg-5"],[3,"title","bgColor","breadcrumbColor"],[1,"row","py-5"],[1,"col-12","col-md-6","d-none","d-lg-block","text-center"],["src","./images/login-register.png","alt","Register Banner",1,"user-select-none","custom-img"],[1,"col-12","col-md-6"],[1,"subtitle"],["novalidate","",1,"mt-4","needs-validation",3,"ngSubmit","formGroup","ngClass"],[1,"row"],[1,"col-12"],[1,"form-group","mb-4"],["for","register-full-name",1,"form-label"],["type","text","placeholder","","id","register-full-name","formControlName","first_name","required","",1,"form-control","main-input"],["for","register-last-name",1,"form-label"],["type","text","placeholder","","id","register-last-name","formControlName","last_name","required","",1,"form-control","main-input"],["for","register-email",1,"form-label"],["type","email","placeholder","","id","register-email","formControlName","email","required","",1,"form-control","main-input"],["for","register-password",1,"form-label"],["type","password","placeholder","","id","register-password","formControlName","password","required","",1,"form-control","main-input"],[1,"remember"],[1,"form-check"],["type","checkbox","id","agreeTermsCheckbox","formControlName","acceptTerms","required","",1,"form-check-input"],["for","agreeTermsCheckbox",1,"form-check-label"],[1,"col-lg-12"],[1,"form-group"],["type","submit",1,"btn","main-btn","rounded-pill","w-100",3,"disabled"],[1,"bottom-bar"],["routerLink","/login"]],template:function(p,l){p&1&&(a(0,"app-navbar"),e(1,"section",0),a(2,"app-breadcrumb",1),r(3,"translate"),e(4,"div",2)(5,"div",3),a(6,"img",4),t(),e(7,"div",5)(8,"div",6)(9,"h4"),n(10),r(11,"translate"),t()(),e(12,"form",7),_("ngSubmit",function(){return l.onSubmit()}),e(13,"div",8)(14,"div",9)(15,"div",10)(16,"label",11),n(17),r(18,"translate"),t(),a(19,"input",12),t()(),e(20,"div",9)(21,"div",10)(22,"label",13),n(23),r(24,"translate"),t(),a(25,"input",14),t()(),e(26,"div",9)(27,"div",10)(28,"label",15),n(29),r(30,"translate"),t(),a(31,"input",16),t()(),e(32,"div",9)(33,"div",10)(34,"label",17),n(35),r(36,"translate"),t(),a(37,"input",18),t()(),e(38,"div",9)(39,"div",10)(40,"div",19)(41,"div",20),a(42,"input",21),e(43,"label",22),n(44),r(45,"translate"),t()()()()(),e(46,"div",23)(47,"div",24)(48,"button",25),n(49),r(50,"translate"),t()(),e(51,"div",26)(52,"p"),n(53),r(54,"translate"),e(55,"a",27),n(56),r(57,"translate"),t()()()()()()()()()),p&2&&(i(2),x("title",o(3,15,"register.title")),b("bgColor",l.headerColor())("breadcrumbColor",l.breadcrumbColor()),i(8),w(o(11,17,"register.title")),i(2),b("formGroup",l.registerForm)("ngClass",y(35,Q,l.submitted()&&l.registerForm.touched&&l.registerForm.invalid)),i(5),s(" ",o(18,19,"contact_us.first_name")," "),i(6),s(" ",o(24,21,"contact_us.last_name")," "),i(6),s(" ",o(30,23,"register.email")," "),i(6),s(" ",o(36,25,"register.password")," "),i(9),s(" ",o(45,27,"register.agree_terms")," "),i(4),b("disabled",l.isLoading()),i(),s(" ",o(50,29,"register.btn_register")," "),i(4),s(" ",o(54,31,"register.already_have_account")," "),i(3),s(" ",o(57,33,"login.title"),""))},dependencies:[M,O,P,J,V,B,q,A,D,j,H,G,z,I,F],styles:[".register-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--black-color);font-size:36px;font-weight:500}.custom-img[_ngcontent-%COMP%]{max-height:600px}.bottom-bar[_ngcontent-%COMP%]{padding:10px 0 0;text-align:center;position:relative}.bottom-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6970ff}@media (max-width: 576px){.register-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:24px}}"]})};export{K as RegisterComponent};
